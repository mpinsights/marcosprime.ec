<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcos Prime English Course</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* General Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body, html {
            height: 100%;
            font-family: 'Montserrat', sans-serif;
            background-color: #000;
            color: #fff;
        }

        /* Container Management - Todas as telas principais */
        .container {
            display: none; /* Todos os contêineres principais começam escondidos */
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            padding: 20px;
            text-align: center; /* Centraliza o conteúdo horizontalmente dentro dos contêineres */
            overflow-y: auto; /* Habilita a rolagem para conteúdo que excede a altura da viewport */
            position: relative; /* Para posicionar o botão de voltar */
        }

        .container.active {
            display: flex;
        }

        /* Fundos específicos dos contêineres */
        #login-container {
            background: rgba(0, 0, 0, 0.8);
        }

        /* Estilo do Logo */
        .logo {
            width: 100px;
            height: 100px;
            background-image: url('https://i.postimg.cc/pr0cjPYW/MP-EC-white.png');
            background-size: cover;
            background-position: center;
            margin: 0 auto 24px; /* Centraliza o logo com margem abaixo */
            border-radius: 12px; /* Para o logo da caixa de login */
            display: block; /* Garante que ocupe espaço */
        }

        .logo.round {
            border-radius: 50%; /* Para logos circulares em outras telas */
        }

        /* Títulos */
        h1, h2, h3 {
            font-weight: 600;
            margin-bottom: 24px;
            font-size: 1.4rem;
            letter-spacing: 1px;
            text-align: center;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 1.6rem;
        }

        h3 {
            font-size: 1.2rem;
        }

        /* Inputs e Textareas */
        input[type="password"],
        input[type="text"], /* Adicionado estilo para input type text */
        textarea {
            padding: 12px;
            width: 100%;
            border-radius: 8px;
            border: none;
            margin-bottom: 20px;
            background-color: #1a1a1a;
            color: #fff;
            font-size: 1rem;
            resize: vertical; /* Permite redimensionamento vertical para textareas */
        }

        input::placeholder,
        textarea::placeholder { /* Adicionado placeholder para textarea */
            color: #888;
        }

        /* Botões (Geral) */
        button {
            padding: 12px;
            width: 100%;
            background-color: #444;
            border: none;
            border-radius: 8px;
            color: #fff;
            font-weight: 600;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            cursor: pointer; /* Adicionado cursor pointer para todos os botões */
        }

        button:hover {
            background-color: #666;
        }

        /* Específicos da Caixa de Login */
        .login-box {
            background-color: #111;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.05);
            max-width: 360px;
            width: 100%;
        }

        .message {
            margin-top: 20px;
            font-size: 0.95rem;
            min-height: 22px;
            color: #e74c3c;
        }

        /* Layout da Tela de Boas-Vindas */
        #welcome-screen {
            justify-content: flex-start; /* Alinha o conteúdo ao topo */
            padding-top: 40px; /* Adiciona preenchimento superior */
            align-items: flex-start; /* Alinha os itens à esquerda */
        }

        #welcome-screen .top-bar {
            width: 100%;
            display: flex;
            justify-content: flex-start; /* Alinha a logo à esquerda */
            margin-bottom: 30px;
            padding-left: 20px; /* Ajuste para espaçamento da logo */
        }

        #welcome-screen .logo {
            margin: 0; /* Remove margem automática para controle manual */
            border-radius: 50%; /* Garante que seja redonda aqui também */
        }

        .main-layout {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-grow: 1;
            gap: 40px;
            flex-wrap: wrap; /* Permite quebrar em telas menores */
            max-width: 1000px; /* Limita a largura geral */
            width: 100%;
            padding: 0 20px; /* Adiciona preenchimento lateral */
        }

        .left-side {
            flex: 1;
            min-width: 300px;
            max-width: 560px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .video-wrapper {
            background-color: #333; /* Cor de fundo para o player que não carrega */
            height: 280px; /* Altura fixa para o player */
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            color: #888;
            font-size: 1.2rem;
        }

        .video-wrapper iframe {
            width: 100%;
            height: 100%; /* Ajusta a iframe para preencher o wrapper */
            border-radius: 8px;
            border: none;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .action-buttons button {
            flex-grow: 1;
            padding: 10px 24px;
        }

        .right-side {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
            text-align: left; /* Alinha o texto dentro do lado direito */
        }

        .right-side p {
            font-size: 0.95rem;
            line-height: 1.5;
            color: #ccc;
        }

        /* Telas de Seleção de Nível */
        #level-screen {
            justify-content: flex-start; /* Alinha o conteúdo ao topo */
            padding-top: 40px;
        }

        .level-buttons-vertical {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-top: 40px;
            width: 100%;
            max-width: 300px;
        }

        .level-buttons-vertical button {
            padding: 24px 60px;
            font-size: 1.4rem;
        }

        /* Tela de Recusa */
        #decline-screen {
            justify-content: flex-start;
            padding-top: 60px;
        }

        .decline-logo {
            width: 100px;
            height: 100px;
            background-image: url('https://i.postimg.cc/pr0cjPYW/MP-EC-white.png');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            margin-bottom: 30px;
            display: block;
        }

        .decline-content {
            max-width: 700px;
        }

        .decline-content p {
            font-size: 1rem;
            line-height: 1.6;
            color: #ccc;
        }

        /* Contêineres de Curso (Beginner, Intermediate, Advanced) */
        .course-container {
            display: none;
            padding: 40px 20px;
            text-align: center;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        .course-container h1 {
            margin-bottom: 30px;
        }

        .course-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            width: 100%;
            max-width: 300px;
        }

        .course-buttons button {
            padding: 18px 32px;
            font-size: 1.2rem;
            background-color: #222;
        }

        .course-buttons button:hover {
            background-color: #444;
        }

        /* Telas Específicas de Aula (Easy Presentation, Materia, Video, Tarefa) */
        .lesson-home, .tela {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 40px 20px;
            height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        .lesson-home.active, .tela.active {
            display: flex;
        }

        .lesson-home .logo, .tela .logo {
            width: 80px;
            height: 80px;
            margin-bottom: 30px;
        }

        .lesson-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-top: 20px;
            width: 100%;
            max-width: 300px;
        }

        .lesson-menu button {
            padding: 24px 60px;
            font-size: 1.4rem;
        }

        .tela p {
            font-size: 1.05rem;
            line-height: 1.6;
            color: #ccc;
            text-align: center;
            margin-bottom: 20px;
        }

        .video-player {
            max-width: 560px;
            width: 100%;
            margin: 0 auto 30px;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
            text-align: left;
        }

        form label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
        }

        button[type="submit"] {
            padding: 16px;
            font-size: 1.2rem;
            background-color: #0078D7;
            margin-top: 20px;
        }

        button[type="submit"]:hover {
            background-color: #005fa3;
        }

        #mensagem-envio {
            margin-top: 30px;
            font-weight: 500;
            text-align: center;
            font-size: 1.05rem;
            color: #fff;
        }

        /* Botão de Voltar */
        .back-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: auto;
            padding: 10px 15px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s ease;
            z-index: 100;
        }

        .back-button:hover {
            background-color: #555;
        }

        /* Ajustes Responsivos */
        @media (max-width: 768px) {
            .main-layout {
                flex-direction: column;
                align-items: center;
            }

            .left-side, .right-side {
                max-width: 100%;
                width: 100%;
            }

            .action-buttons {
                flex-direction: column;
            }

            .lesson-menu button,
            .level-buttons-vertical button,
            .course-buttons button {
                width: 100%;
            }

            h1 {
                font-size: 1.8rem;
            }
            h2 {
                font-size: 1.4rem;
            }

            #welcome-screen .top-bar {
                justify-content: center;
                padding-left: 0;
            }

            .back-button {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div id="login-container" class="container active">
        <div class="login-box">
            <div class="logo"></div>
            <h2>Login Marcos Prime English Course</h2>
            <input type="password" id="senha" placeholder="Digite a senha" />
            <button onclick="verificarSenha()">Entrar</button>
            <div class="message" id="mensagem"></div>
        </div>
    </div>

    <div id="welcome-screen" class="container">
        <div class="top-bar">
            <div class="logo round"></div>
        </div>

        <div class="main-layout">
            <div class="left-side">
                <div class="video-wrapper">
                    <span>Vídeo de Apresentação Indisponível</span>
                </div>
                <div class="action-buttons">
                    <button onclick="entrarBoasVindas()">Entrar</button>
                    <button onclick="recusarBoasVindas()">Recusar</button>
                </div>
            </div>

            <div class="right-side">
                <h3>Apresentação do projeto</h3>
                <p>
                    O <strong>Marcos Prime English Course</strong> foi criado para te guiar na jornada da fluência.
                    Com abordagem prática e progressiva, você escolhe seu nível e evolui com conteúdo original e direcionado.
                </p>
            </div>
        </div>
    </div>

    <div id="level-screen" class="container">
        <div class="logo round"></div>
        <h1>Escolha seu nível</h1>
        <div class="level-buttons-vertical">
            <button onclick="abrirNivelCurso('beginner')">Beginner</button>
            <button onclick="abrirNivelCurso('intermediate')">Intermediate</button>
            <button onclick="abrirNivelCurso('advanced')">Advanced</button>
        </div>
    </div>

    <div id="decline-screen" class="container">
        <div class="decline-logo"></div>
        <div class="decline-content">
            <h2>Entendemos sua escolha</h2>
            <p>
                Nem todos estão dispostos a visualizar novos horizontes.
                Mas saiba que estamos sempre aqui para ajudar você a desenvolver habilidades
                que serão de grande vantagem quando estiver pronto.
            </p>
        </div>
    </div>

    <div class="course-container container" id="beginner-course">
        <button class="back-button" onclick="goToLevelScreen()">Voltar</button>
        <h1>Aulas — Beginner</h1>
        <div class="course-buttons">
            <button onclick="abrirLesson('easy-presentation', 'beginner')">Easy Presentation</button>
            <button onclick="abrirLesson('greetings-farewells', 'beginner')">Greetings and Farewells</button>
            <button onclick="abrirLesson('personal-pronouns', 'beginner')">Personal Pronouns</button>
            <button onclick="abrirLesson('possessive-pronouns', 'beginner')">Possessive Pronouns</button>
            <button onclick="abrirLesson('reflexive-pronouns-b', 'beginner')">Reflexive Pronouns</button>
            <button onclick="abrirLesson('demonstrative-pronouns', 'beginner')">Demonstrative Pronouns</button>
            <button onclick="abrirLesson('interrogative-pronouns', 'beginner')">Interrogative Pronouns</button>
            <button onclick="abrirLesson('verbs', 'beginner')">Verbs</button>
            <button onclick="abrirLesson('how-to-make-a-sentence', 'beginner')">How to make a sentence</button>
            <button onclick="abrirLesson('easy-essential-vocabulary', 'beginner')">Easy and Essential Vocabulary</button>
            <button onclick="abrirLesson('regular-verbs', 'beginner')">Regular Verbs</button>
            <button onclick="abrirLesson('irregular-verbs', 'beginner')">Irregular Verbs</button>
            <button onclick="abrirLesson('linking-words', 'beginner')">Linking Words</button>
            <button onclick="abrirLesson('active-passive-voice', 'beginner')">Active and Passive Voice</button>
            <button onclick="abrirLesson('adverbs-frequency', 'beginner')">Adverbs of Frequency</button>
            <button onclick="abrirLesson('reflexive-pronouns-b2', 'beginner')">Reflexive Pronouns (Repetição/Outro)</button>
        </div>
    </div>

    <div class="course-container container" id="intermediate-course">
        <button class="back-button" onclick="goToLevelScreen()">Voltar</button>
        <h1>Aulas — Intermediate</h1>
        <div class="course-buttons">
            <button onclick="abrirLesson('past-perfect-continuous', 'intermediate')">Past Perfect Continuous</button>
            <button onclick="abrirLesson('conditional-sentences', 'intermediate')">Conditional Sentences</button>
            <button onclick="abrirLesson('reported-speech', 'intermediate')">Reported Speech</button>
            <button onclick="abrirLesson('modal-verbs-context', 'intermediate')">Modal Verbs in Context</button>
            <button onclick="abrirLesson('reading-strategies', 'intermediate')">Reading Strategies</button>
            <button onclick="abrirLesson('idiomatic-expressions', 'intermediate')">Idiomatic Expressions</button>
            <button onclick="abrirLesson('relative-clauses', 'intermediate')">Relative Clauses</button>
            <button onclick="abrirLesson('word-formation', 'intermediate')">Word Formation</button>
        </div>
    </div>

    <div class="course-container container" id="advanced-course">
        <button class="back-button" onclick="goToLevelScreen()">Voltar</button>
        <h1>Aulas — Advanced</h1>
        <div class="course-buttons">
            <button onclick="abrirLesson('essay-structure-cohesion', 'advanced')">Essay Structure & Cohesion</button>
            <button onclick="abrirLesson('advanced-argumentation', 'advanced')">Advanced Argumentation</button>
            <button onclick="abrirLesson('figurative-language', 'advanced')">Figurative Language</button>
            <button onclick="abrirLesson('advanced-listening-skills', 'advanced')">Advanced Listening Skills</button>
            <button onclick="abrirLesson('formal-informal-register', 'advanced')">Formal vs Informal Register</button>
            <button onclick="abrirLesson('academic-vocabulary', 'advanced')">Academic Vocabulary</button>
            <button onclick="abrirLesson('discourse-markers', 'advanced')">Discourse Markers</button>
            <button onclick="abrirLesson('critical-thinking-tasks', 'advanced')">Critical Thinking Tasks</button>
        </div>
    </div>

    <div id="aula-easy-presentation-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen('beginner')">Voltar</button>
        <div class="logo round"></div>
        <h1>Easy Presentation</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('easy-presentation-materia', 'easy-presentation')">Matéria</button>
            <button onclick="abrirLessonContent('easy-presentation-video', 'easy-presentation')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('easy-presentation-tarefa', 'easy-presentation')">Tarefa</button>
        </div>
    </div>

    <div id="easy-presentation-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('easy-presentation', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Easy Presentation</h2>
        <p>
            Apresentações pessoais básicas em inglês envolvem frases como “My name is...”, “I am from...”, “Nice to meet you”, etc.
            O objetivo é saber se apresentar com confiança usando vocabulário simples e correto.
            <br><br>
            **Exemplos:**
            <ul>
                <li>Hello, my name is [Seu Nome].</li>
                <li>I am from [Seu País/Cidade].</li>
                <li>It's nice to meet you.</li>
                <li>What's your name?</li>
                <li>Where are you from?</li>
            </ul>
            **Dica:** Pratique essas frases em voz alta. A repetição ajuda a memorizar e a sentir-se mais confortável.
        </p>
    </div>

    <div id="easy-presentation-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('easy-presentation', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Easy Presentation</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLw-wK_R77u_5g8v9g5e7u5m3q2m7y9k5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="easy-presentation-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('easy-presentation', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Easy Presentation</h2>
        <form onsubmit="enviarTarefa(event, 'Easy Presentation')">
            <label for="aluno-easy-presentation">Seu nome:</label>
            <input type="text" id="aluno-easy-presentation" placeholder="Digite seu nome" required />

            <label for="q1-easy-presentation">1. Como você diz “Meu nome é João” em inglês?</label>
            <textarea id="q1-easy-presentation" required></textarea>

            <label for="q2-easy-presentation">2. Qual a frase correta para dizer de onde você é?</label>
            <textarea id="q2-easy-presentation" required></textarea>

            <label for="q3-easy-presentation">3. Escreva uma saudação educada em inglês.</label>
            <textarea id="q3-easy-presentation" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="aula-greetings-farewells-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen('beginner')">Voltar</button>
        <div class="logo round"></div>
        <h1>Greetings and Farewells</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('greetings-farewells-materia', 'greetings-farewells')">Matéria</button>
            <button onclick="abrirLessonContent('greetings-farewells-video', 'greetings-farewells')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('greetings-farewells-tarefa', 'greetings-farewells')">Tarefa</button>
        </div>
    </div>

    <div id="greetings-farewells-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('greetings-farewells', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Greetings and Farewells</h2>
        <p>
            Aprender saudações e despedidas é fundamental para qualquer interação em inglês.
            <br><br>
            **Saudações (Greetings):**
            <ul>
                <li>Hello / Hi (Olá)</li>
                <li>Good morning (Bom dia)</li>
                <li>Good afternoon (Boa tarde)</li>
                <li>Good evening (Boa noite - ao chegar)</li>
                <li>How are you? (Como você está?)</li>
                <li>I'm fine, thanks. And you? (Estou bem, obrigado. E você?)</li>
            </ul>
            **Despedidas (Farewells):**
            <ul>
                <li>Goodbye / Bye (Adeus / Tchau)</li>
                <li>Good night (Boa noite - ao ir embora/dormir)</li>
                <li>See you later (Até mais tarde)</li>
                <li>Have a good day (Tenha um bom dia)</li>
                <li>Take care (Se cuida)</li>
            </ul>
        </p>
    </div>

    <div id="greetings-farewells-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('greetings-farewells', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Greetings and Farewells</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLw-wK_R77u_5g8v9g5e7u5m3q2m7y9k5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="greetings-farewells-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('greetings-farewells', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Greetings and Farewells</h2>
        <form onsubmit="enviarTarefa(event, 'Greetings and Farewells')">
            <label for="aluno-greetings-farewells">Seu nome:</label>
            <input type="text" id="aluno-greetings-farewells" placeholder="Digite seu nome" required />

            <label for="q1-greetings">1. Qual a diferença entre "Good evening" e "Good night"?</label>
            <textarea id="q1-greetings" required></textarea>

            <label for="q2-greetings">2. Escreva uma breve conversa usando pelo menos uma saudação e uma despedida.</label>
            <textarea id="q2-greetings" required></textarea>

            <label for="q3-greetings">3. Como você diria "Tenha um bom dia" em inglês?</label>
            <textarea id="q3-greetings" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="aula-personal-pronouns-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen('beginner')">Voltar</button>
        <div class="logo round"></div>
        <h1>Personal Pronouns</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('personal-pronouns-materia', 'personal-pronouns')">Matéria</button>
            <button onclick="abrirLessonContent('personal-pronouns-video', 'personal-pronouns')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('personal-pronouns-tarefa', 'personal-pronouns')">Tarefa</button>
        </div>
    </div>

    <div id="personal-pronouns-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('personal-pronouns', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Personal Pronouns</h2>
        <p>
            Pronomes pessoais são usados para substituir nomes, evitando repetições e tornando a fala mais fluida.
            <br><br>
            **Subject Pronouns (Sujeito da frase):**
            <ul>
                <li>I (Eu)</li>
                <li>You (Você/Vocês)</li>
                <li>He (Ele)</li>
                <li>She (Ela)</li>
                <li>It (Ele/Ela para coisas/animais/ideias)</li>
                <li>We (Nós)</li>
                <li>They (Eles/Elas)</li>
            </ul>
            **Object Pronouns (Objeto da frase):**
            <ul>
                <li>Me (Me/Mim)</li>
                <li>You (Te/Você/Vocês)</li>
                <li>Him (Lhe/Ele)</li>
                <li>Her (Lhe/Ela)</li>
                <li>It (Lhe/Isso)</li>
                <li>Us (Nos/Nós)</li>
                <li>Them (Lhes/Eles/Elas)</li>
            </ul>
            **Exemplos:**
            * **Subject:** *She* is happy. (Ela está feliz.)
            * **Object:** I saw *her*. (Eu a vi.)
        </p>
    </div>

    <div id="personal-pronouns-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('personal-pronouns', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Personal Pronouns</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLw-wK_R77u_5g8v9g5e7u5m3q2m7y9k5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="personal-pronouns-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('personal-pronouns', 'beginner')">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Personal Pronouns</h2>
        <form onsubmit="enviarTarefa(event, 'Personal Pronouns')">
            <label for="aluno-personal-pronouns">Seu nome:</label>
            <input type="text" id="aluno-personal-pronouns" placeholder="Digite seu nome" required />

            <label for="q1-pronouns">1. Substitua o nome sublinhado pelo pronome pessoal correto: "<u>Maria</u> is reading a book."</label>
            <textarea id="q1-pronouns" required></textarea>

            <label for="q2-pronouns">2. Complete a frase com o pronome objeto adequado: "Give the book to <u>us</u>."</label>
            <textarea id="q2-pronouns" required></textarea>

            <label for="q3-pronouns">3. Crie uma frase usando "It" como sujeito e outra usando "it" como objeto.</label>
            <textarea id="q3-pronouns" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="aula-past-perfect-continuous-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen('intermediate')">Voltar</button>
        <div class="logo round"></div>
        <h1>Past Perfect Continuous</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('past-perfect-continuous-materia', 'past-perfect-continuous')">Matéria</button>
            <button onclick="abrirLessonContent('past-perfect-continuous-video', 'past-perfect-continuous')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('past-perfect-continuous-tarefa', 'past-perfect-continuous')">Tarefa</button>
        </div>
    </div>

    <div id="past-perfect-continuous-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('past-perfect-continuous', 'intermediate')">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Past Perfect Continuous</h2>
        <p>
            O Past Perfect Continuous (Passado Perfeito Contínuo) é usado para descrever uma ação contínua
            que começou no passado e continuou até outro ponto no passado. A ênfase está na duração da ação.
            <br><br>
            **Estrutura:** Sujeito + had been + verbo no gerúndio (-ing)
            <br><br>
            **Exemplos:**
            <ul>
                <li>She had been studying for three hours before she took a break.</li>
                <li>They had been waiting for a long time when the bus finally arrived.</li>
                <li>I had been working on this project all morning until the power went out.</li>
            </ul>
            É comum usá-lo com "for" (por um período) ou "since" (desde um ponto no tempo).
        </p>
    </div>

    <div id="past-perfect-continuous-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('past-perfect-continuous', 'intermediate')">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Past Perfect Continuous</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLw-wK_R77u_5g8v9g5e7u5m3q2m7y9k5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="past-perfect-continuous-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('past-perfect-continuous', 'intermediate')">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Past Perfect Continuous</h2>
        <form onsubmit="enviarTarefa(event, 'Past Perfect Continuous')">
            <label for="aluno-past-perfect-continuous">Seu nome:</label>
            <input type="text" id="aluno-past-perfect-continuous" placeholder="Digite seu nome" required />

            <label for="q1-past-pc">1. Complete a frase: "He ______ (sleep) for hours when I woke him up."</label>
            <textarea id="q1-past-pc" required></textarea>

            <label for="q2-past-pc">2. Use o Past Perfect Continuous: "They (play) tennis for an hour before it started raining."</label>
            <textarea id="q2-past-pc" required></textarea>

            <label for="q3-past-pc">3. Descreva uma situação em que você usaria o Past Perfect Continuous.</label>
            <textarea id="q3-past-pc" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="aula-essay-structure-cohesion-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen('advanced')">Voltar</button>
        <div class="logo round"></div>
        <h1>Essay Structure & Cohesion</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('essay-structure-cohesion-materia', 'essay-structure-cohesion')">Matéria</button>
            <button onclick="abrirLessonContent('essay-structure-cohesion-video', 'essay-structure-cohesion')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('essay-structure-cohesion-tarefa', 'essay-structure-cohesion')">Tarefa</button>
        </div>
    </div>

    <div id="essay-structure-cohesion-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('essay-structure-cohesion', 'advanced')">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Essay Structure & Cohesion</h2>
        <p>
            Escrever um ensaio coeso e bem estruturado é crucial para a comunicação acadêmica e profissional em inglês.
            <br><br>
            **Estrutura Básica de um Ensaio:**
            <ul>
                <li>**Introduction (Introdução):** Hook, Background Information, Thesis Statement.</li>
                <li>**Body Paragraphs (Parágrafos do Corpo):** Topic Sentence, Supporting Details, Evidence/Examples, Concluding Sentence.</li>
                <li>**Conclusion (Conclusão):** Restate Thesis (in different words), Summarize Main Points, Final Thought/Implication.</li>
            </ul>
            **Cohesion (Coesão):** Refere-se a como as ideias se conectam logicamente.
            <br>
            Use **Linking Words/Transitions** (e.g., *however, therefore, in addition, moreover, consequently*) para guiar o leitor.
            <br>
            **Pronoun Reference:** Garanta que os pronomes se refiram claramente aos substantivos corretos.
            <br>
            **Repetition of Key Nouns/Synonyms:** Repita palavras-chave ou use sinônimos para manter o foco no tópico.
        </p>
    </div>

    <div id="essay-structure-cohesion-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('essay-structure-cohesion', 'advanced')">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Essay Structure & Cohesion</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/videoseries?list=PLw-wK_R77u_5g8v9g5e7u5m3q2m7y9k5" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="essay-structure-cohesion-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('essay-structure-cohesion', 'advanced')">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Essay Structure & Cohesion</h2>
        <form onsubmit="enviarTarefa(event, 'Essay Structure & Cohesion')">
            <label for="aluno-essay-structure-cohesion">Seu nome:</label>
            <input type="text" id="aluno-essay-structure-cohesion" placeholder="Digite seu nome" required />

            <label for="q1-essay">1. Qual o propósito de um "thesis statement" em um ensaio?</label>
            <textarea id="q1-essay" required></textarea>

            <label for="q2-essay">2. Dê três exemplos de "linking words" e como elas podem ser usadas para conectar frases.</label>
            <textarea id="q2-essay" required></textarea>

            <label for="q3-essay">3. Escreva um parágrafo de introdução (com tese) e um parágrafo do corpo (com tópico e detalhes) sobre um tema de sua escolha.</label>
            <textarea id="q3-essay" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <script>
        // Variável para armazenar o nível do curso atual (para o botão Voltar)
        let currentCourseLevel = '';
        // Variável para armazenar o slug da aula atual (para o botão Voltar da tarefa)
        let currentLessonSlug = '';


        // Função para esconder todos os contêineres principais
        function hideAllContainers() {
            document.querySelectorAll('.container').forEach(container => {
                container.classList.remove('active');
            });
            document.querySelectorAll('.course-container').forEach(container => {
                container.style.display = 'none';
            });
        }

        // --- Lógica da Tela de Login ---
        function verificarSenha() {
            const senha = document.getElementById('senha').value;
            const senhaCorreta = 'marcos123';
            const mensagem = document.getElementById('mensagem');

            if (senha === senhaCorreta) {
                mensagem.textContent = '';
                hideAllContainers();
                document.getElementById('welcome-screen').classList.add('active'); // Mostra a tela de boas-vindas após o login
            } else {
                mensagem.textContent = 'Senha incorreta. Tente novamente.';
            }
        }

        // --- Lógica da Tela de Boas-Vindas ---
        function entrarBoasVindas() {
            hideAllContainers();
            document.getElementById('level-screen').classList.add('active'); // Mostra a tela de seleção de nível
        }

        function recusarBoasVindas() {
            hideAllContainers();
            document.getElementById('decline-screen').classList.add('active'); // Mostra a tela de recusa
        }

        // --- Lógica de Seleção de Nível ---
        function abrirNivelCurso(nivel) {
            hideAllContainers();
            currentCourseLevel = nivel; // Armazena o nível do curso atual
            const courseContainer = document.getElementById(`${nivel}-course`);
            courseContainer.style.display = 'flex'; // Mostra o contêiner de curso específico
            courseContainer.classList.add('active'); // Adiciona a classe active
        }

        // --- Lógica de Seleção de Aula (a partir de um contêiner de curso) ---
        function abrirLesson(lessonSlug, level) {
            hideAllContainers(); // Esconde todos os contêineres principais, incluindo o curso atual
            currentCourseLevel = level; // Atualiza o nível do curso para o contexto da aula
            currentLessonSlug = lessonSlug; // Armazena o slug da aula atual
            document.getElementById(`aula-${lessonSlug}-lesson`).classList.add('active'); // Mostra a tela inicial da aula específica
        }

        // --- Navegação do Conteúdo da Aula (dentro de uma aula) ---
        // A função agora recebe o slug da aula para saber qual home voltar
        function abrirLessonContent(contentId, lessonSlug) {
            // Esconde todas as sub-telas de conteúdo (matéria, vídeo, tarefa) de QUALQUER aula
            document.querySelectorAll('.tela').forEach(tela => {
                tela.classList.remove('active');
            });

            // Esconde todas as telas home de lições
            document.querySelectorAll('.lesson-home').forEach(lessonHome => {
                lessonHome.classList.remove('active');
            });

            // Ativa a tela de conteúdo solicitada
            document.getElementById(contentId).classList.add('active');
            currentLessonSlug = lessonSlug; // Garante que o slug da aula está correto para o botão de voltar
        }

        // --- Funções para Botões de Voltar ---
        function goToLevelScreen() {
            hideAllContainers();
            document.getElementById('level-screen').classList.add('active');
            currentCourseLevel = ''; // Limpa o nível quando volta para a seleção de nível
            currentLessonSlug = ''; // Limpa o slug da aula
        }

        // Retorna para a tela do curso específico (Beginner, Intermediate, Advanced)
        function goToCourseScreen(level) {
            hideAllContainers();
            const courseContainer = document.getElementById(`${level}-course`);
            courseContainer.style.display = 'flex';
            courseContainer.classList.add('active');
            currentCourseLevel = level; // Garante que o nível está correto
            currentLessonSlug = ''; // Limpa o slug da aula
        }

        // Retorna para a tela inicial de uma aula específica
        function goToLessonHome(lessonSlug) { // Não precisa mais do 'level' aqui, pois currentCourseLevel já está definido
            hideAllContainers();
            document.getElementById(`aula-${lessonSlug}-lesson`).classList.add('active');
            currentLessonSlug = lessonSlug; // Garante que o slug da aula está correto
        }

        // --- Lógica de Envio de Tarefa ---
        // Agora recebe o nome da aula como parâmetro
        function enviarTarefa(event, nomeAula) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Obtém o ID do campo de nome do aluno baseado no nome da aula
            const alunoInputId = `aluno-${nomeAula.toLowerCase().replace(/\s/g, '-')}`;
            const nomeAluno = document.getElementById(alunoInputId).value;

            document.getElementById('mensagem-envio').innerHTML =
                `Olá, ${nomeAluno}! Suas respostas para a aula "${nomeAula}" foram enviadas com sucesso.<br><br>Cábulas ajudam, mas é na prática que a fluência acontece.`;

            // Limpa o formulário após o envio (opcional)
            // Você precisará limpar as textareas específicas da aula atual
            const form = event.target;
            form.querySelectorAll('textarea').forEach(textarea => textarea.value = '');
            document.getElementById(alunoInputId).value = ''; // Limpa o nome do aluno também
        }


        // Inicializa o estado de exibição na carga da página
        document.addEventListener('DOMContentLoaded', () => {
            hideAllContainers();
            document.getElementById('login-container').classList.add('active'); // Apenas a tela de login ativa inicialmente
        });
    </script>
</body>
</html>