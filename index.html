<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcos Prime English Course</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* General Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body, html {
            height: 100%;
            font-family: 'Montserrat', sans-serif;
            background-color: #000;
            color: #fff;
        }

        /* Container Management - Todas as telas principais */
        .container {
            display: none; /* Todos os contêineres principais começam escondidos */
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            padding: 20px;
            text-align: center; /* Centraliza o conteúdo horizontalmente dentro dos contêineres */
            overflow-y: auto; /* Habilita a rolagem para conteúdo que excede a altura da viewport */
            position: relative; /* Para posicionar o botão de voltar */
        }

        .container.active {
            display: flex;
        }

        /* Fundos específicos dos contêineres */
        #login-container {
            background: rgba(0, 0, 0, 0.8);
        }

        /* Estilo do Logo */
        .logo {
            width: 100px;
            height: 100px;
            background-image: url('https://i.postimg.cc/pr0cjPYW/MP-EC-white.png');
            background-size: cover;
            background-position: center;
            margin: 0 auto 24px; /* Centraliza o logo com margem abaixo */
            border-radius: 12px; /* Para o logo da caixa de login */
            display: block; /* Garante que ocupe espaço */
        }

        .logo.round {
            border-radius: 50%; /* Para logos circulares em outras telas */
        }

        /* Títulos */
        h1, h2, h3 {
            font-weight: 600;
            margin-bottom: 24px;
            font-size: 1.4rem;
            letter-spacing: 1px;
            text-align: center;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 1.6rem;
        }

        h3 {
            font-size: 1.2rem;
        }

        /* Inputs e Textareas */
        input[type="password"],
        input[type="text"], /* Adicionado estilo para input type text */
        textarea {
            padding: 12px;
            width: 100%;
            border-radius: 8px;
            border: none;
            margin-bottom: 20px;
            background-color: #1a1a1a;
            color: #fff;
            font-size: 1rem;
            resize: vertical; /* Permite redimensionamento vertical para textareas */
        }

        input::placeholder,
        textarea::placeholder { /* Adicionado placeholder para textarea */
            color: #888;
        }

        /* Botões (Geral) */
        button {
            padding: 12px;
            width: 100%;
            background-color: #444;
            border: none;
            border-radius: 8px;
            color: #fff;
            font-weight: 600;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            cursor: pointer; /* Adicionado cursor pointer para todos os botões */
        }

        button:hover {
            background-color: #666;
        }

        /* Específicos da Caixa de Login */
        .login-box {
            background-color: #111;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.05);
            max-width: 360px;
            width: 100%;
        }

        .message {
            margin-top: 20px;
            font-size: 0.95rem;
            min-height: 22px;
            color: #e74c3c;
        }

        /* Layout da Tela de Boas-Vindas */
        #welcome-screen {
            justify-content: flex-start; /* Alinha o conteúdo ao topo */
            padding-top: 40px; /* Adiciona preenchimento superior */
            align-items: flex-start; /* Alinha os itens à esquerda */
        }

        #welcome-screen .top-bar {
            width: 100%;
            display: flex;
            justify-content: flex-start; /* Alinha a logo à esquerda */
            margin-bottom: 30px;
            padding-left: 20px; /* Ajuste para espaçamento da logo */
        }

        #welcome-screen .logo {
            margin: 0; /* Remove margem automática para controle manual */
            border-radius: 50%; /* Garante que seja redonda aqui também */
        }

        .main-layout {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-grow: 1;
            gap: 40px;
            flex-wrap: wrap; /* Permite quebrar em telas menores */
            max-width: 1000px; /* Limita a largura geral */
            width: 100%;
            padding: 0 20px; /* Adiciona preenchimento lateral */
        }

        .left-side {
            flex: 1;
            min-width: 300px;
            max-width: 560px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .video-wrapper {
            background-color: #333; /* Cor de fundo para o player que não carrega */
            height: 280px; /* Altura fixa para o player */
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            color: #888;
            font-size: 1.2rem;
        }

        .video-wrapper iframe {
            width: 100%;
            height: 100%; /* Ajusta a iframe para preencher o wrapper */
            border-radius: 8px;
            border: none;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .action-buttons button {
            flex-grow: 1;
            padding: 10px 24px;
        }

        .right-side {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
            text-align: left; /* Alinha o texto dentro do lado direito */
        }

        .right-side p {
            font-size: 0.95rem;
            line-height: 1.5;
            color: #ccc;
        }

        /* Telas de Seleção de Nível */
        #level-screen {
            justify-content: flex-start; /* Alinha o conteúdo ao topo */
            padding-top: 40px;
        }

        .level-buttons-vertical {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-top: 40px;
            width: 100%;
            max-width: 300px;
        }

        .level-buttons-vertical button {
            padding: 24px 60px;
            font-size: 1.4rem;
        }

        /* Tela de Recusa */
        #decline-screen {
            justify-content: flex-start;
            padding-top: 60px;
        }

        .decline-logo {
            width: 100px;
            height: 100px;
            background-image: url('https://i.postimg.cc/pr0cjPYW/MP-EC-white.png');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
            margin-bottom: 30px;
            display: block;
        }

        .decline-content {
            max-width: 700px;
        }

        .decline-content p {
            font-size: 1rem;
            line-height: 1.6;
            color: #ccc;
        }

        /* Contêineres de Curso (Beginner, Intermediate, Advanced) */
        .course-container {
            display: none;
            padding: 40px 20px;
            text-align: center;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        .course-container h1 {
            margin-bottom: 30px;
        }

        .course-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            width: 100%;
            max-width: 300px;
        }

        .course-buttons button {
            padding: 18px 32px;
            font-size: 1.2rem;
            background-color: #222;
        }

        .course-buttons button:hover {
            background-color: #444;
        }

        /* Telas Específicas de Aula (Easy Presentation, Materia, Video, Tarefa) */
        .lesson-home, .tela {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 40px 20px;
            height: 100vh;
            overflow-y: auto;
            position: relative;
        }

        .lesson-home.active, .tela.active {
            display: flex;
        }

        .lesson-home .logo, .tela .logo {
            width: 80px;
            height: 80px;
            margin-bottom: 30px;
        }

        .lesson-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            margin-top: 20px;
            width: 100%;
            max-width: 300px;
        }

        .lesson-menu button {
            padding: 24px 60px;
            font-size: 1.4rem;
        }

        .tela p {
            font-size: 1.05rem;
            line-height: 1.6;
            color: #ccc;
            text-align: center;
            margin-bottom: 20px;
        }

        .video-player {
            max-width: 560px;
            width: 100%;
            margin: 0 auto 30px;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
            text-align: left;
        }

        form label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
        }

        button[type="submit"] {
            padding: 16px;
            font-size: 1.2rem;
            background-color: #0078D7;
            margin-top: 20px;
        }

        button[type="submit"]:hover {
            background-color: #005fa3;
        }

        #mensagem-envio {
            margin-top: 30px;
            font-weight: 500;
            text-align: center;
            font-size: 1.05rem;
            color: #fff;
        }

        /* Botão de Voltar */
        .back-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: auto;
            padding: 10px 15px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s ease;
            z-index: 100;
        }

        .back-button:hover {
            background-color: #555;
        }

        /* Ajustes Responsivos */
        @media (max-width: 768px) {
            .main-layout {
                flex-direction: column;
                align-items: center;
            }

            .left-side, .right-side {
                max-width: 100%;
                width: 100%;
            }

            .action-buttons {
                flex-direction: column;
            }

            .lesson-menu button,
            .level-buttons-vertical button,
            .course-buttons button {
                width: 100%;
            }

            h1 {
                font-size: 1.8rem;
            }
            h2 {
                font-size: 1.4rem;
            }

            #welcome-screen .top-bar {
                justify-content: center;
                padding-left: 0;
            }

            .back-button {
                top: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div id="login-container" class="container active">
        <div class="login-box">
            <div class="logo"></div>
            <h2>Login Marcos Prime English Course</h2>
            <input type="password" id="senha" placeholder="Digite a senha" />
            <button onclick="verificarSenha()">Entrar</button>
            <div class="message" id="mensagem"></div>
        </div>
    </div>

    <div id="welcome-screen" class="container">
        <div class="top-bar">
            <div class="logo round"></div>
        </div>

        <div class="main-layout">
            <div class="left-side">
                <div class="video-wrapper">
                    <span>Vídeo de Apresentação Indisponível</span>
                </div>
                <div class="action-buttons">
                    <button onclick="entrarBoasVindas()">Entrar</button>
                    <button onclick="recusarBoasVindas()">Recusar</button>
                </div>
            </div>

            <div class="right-side">
                <h3>Apresentação do projeto</h3>
                <p>
                    O <strong>Marcos Prime English Course</strong> foi criado para te guiar na jornada da fluência.
                    Com abordagem prática e progressiva, você escolhe seu nível e evolui com conteúdo original e direcionado.
                </p>
            </div>
        </div>
    </div>

    <div id="level-screen" class="container">
        <div class="logo round"></div>
        <h1>Escolha seu nível</h1>
        <div class="level-buttons-vertical">
            <button onclick="abrirNivelCurso('beginner')">Beginner</button>
            <button onclick="abrirNivelCurso('intermediate')">Intermediate</button>
            <button onclick="abrirNivelCurso('advanced')">Advanced</button>
        </div>
    </div>

    <div id="decline-screen" class="container">
        <div class="decline-logo"></div>
        <div class="decline-content">
            <h2>Entendemos sua escolha</h2>
            <p>
                Nem todos estão dispostos a visualizar novos horizontes.
                Mas saiba que estamos sempre aqui para ajudar você a desenvolver habilidades
                que serão de grande vantagem quando estiver pronto.
            </p>
        </div>
    </div>

    <div class="course-container" id="beginner-course">
        <button class="back-button" onclick="goToLevelScreen()">Voltar</button>
        <h1>Aulas — Beginner</h1>
        <div class="course-buttons">
            <button onclick="abrirLesson('easy-presentation', 'beginner')">Easy Presentation</button>
            <button onclick="abrirLesson('greetings-farewells', 'beginner')">Greetings and Farewells</button>
            <button onclick="abrirLesson('personal-pronouns', 'beginner')">Personal Pronouns</button>
            <button onclick="abrirLesson('possessive-pronouns', 'beginner')">Possessive Pronouns</button>
            <button onclick="abrirLesson('reflexive-pronouns-b', 'beginner')">Reflexive Pronouns</button>
            <button onclick="abrirLesson('demonstrative-pronouns', 'beginner')">Demonstrative Pronouns</button>
            <button onclick="abrirLesson('interrogative-pronouns', 'beginner')">Interrogative Pronouns</button>
            <button onclick="abrirLesson('verbs', 'beginner')">Verbs</button>
            <button onclick="abrirLesson('how-to-make-a-sentence', 'beginner')">How to make a sentence</button>
            <button onclick="abrirLesson('easy-essential-vocabulary', 'beginner')">Easy and Essential Vocabulary</button>
            <button onclick="abrirLesson('regular-verbs', 'beginner')">Regular Verbs</button>
            <button onclick="abrirLesson('irregular-verbs', 'beginner')">Irregular Verbs</button>
            <button onclick="abrirLesson('linking-words', 'beginner')">Linking Words</button>
            <button onclick="abrirLesson('active-passive-voice', 'beginner')">Active and Passive Voice</button>
            <button onclick="abrirLesson('adverbs-frequency', 'beginner')">Adverbs of Frequency</button>
            <button onclick="abrirLesson('reflexive-pronouns-b2', 'beginner')">Reflexive Pronouns (Repetição/Outro)</button>
        </div>
    </div>

    <div class="course-container" id="intermediate-course">
        <button class="back-button" onclick="goToLevelScreen()">Voltar</button>
        <h1>Aulas — Intermediate</h1>
        <div class="course-buttons">
            <button onclick="abrirLesson('past-perfect-continuous', 'intermediate')">Past Perfect Continuous</button>
            <button onclick="abrirLesson('conditional-sentences', 'intermediate')">Conditional Sentences</button>
            <button onclick="abrirLesson('reported-speech', 'intermediate')">Reported Speech</button>
            <button onclick="abrirLesson('modal-verbs-context', 'intermediate')">Modal Verbs in Context</button>
            <button onclick="abrirLesson('reading-strategies', 'intermediate')">Reading Strategies</button>
            <button onclick="abrirLesson('idiomatic-expressions', 'intermediate')">Idiomatic Expressions</button>
            <button onclick="abrirLesson('relative-clauses', 'intermediate')">Relative Clauses</button>
            <button onclick="abrirLesson('word-formation', 'intermediate')">Word Formation</button>
        </div>
    </div>

    <div class="course-container" id="advanced-course">
        <button class="back-button" onclick="goToLevelScreen()">Voltar</button>
        <h1>Aulas — Advanced</h1>
        <div class="course-buttons">
            <button onclick="abrirLesson('essay-structure-cohesion', 'advanced')">Essay Structure & Cohesion</button>
            <button onclick="abrirLesson('advanced-argumentation', 'advanced')">Advanced Argumentation</button>
            <button onclick="abrirLesson('figurative-language', 'advanced')">Figurative Language</button>
            <button onclick="abrirLesson('advanced-listening-skills', 'advanced')">Advanced Listening Skills</button>
            <button onclick="abrirLesson('formal-informal-register', 'advanced')">Formal vs Informal Register</button>
            <button onclick="abrirLesson('academic-vocabulary', 'advanced')">Academic Vocabulary</button>
            <button onclick="abrirLesson('discourse-markers', 'advanced')">Discourse Markers</button>
            <button onclick="abrirLesson('critical-thinking-tasks', 'advanced')">Critical Thinking Tasks</button>
        </div>
    </div>

    <div id="aula-easy-presentation-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen(currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h1>Easy Presentation</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('easy-presentation-materia', 'easy-presentation')">Matéria</button>
            <button onclick="abrirLessonContent('easy-presentation-video', 'easy-presentation')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('easy-presentation-tarefa', 'easy-presentation')">Tarefa</button>
        </div>
    </div>

    <div id="aula-greetings-farewells-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen(currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h1>Greetings and Farewells</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('greetings-farewells-materia', 'greetings-farewells')">Matéria</button>
            <button onclick="abrirLessonContent('greetings-farewells-video', 'greetings-farewells')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('greetings-farewells-tarefa', 'greetings-farewells')">Tarefa</button>
        </div>
    </div>

    <div id="aula-personal-pronouns-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen(currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h1>Personal Pronouns</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('personal-pronouns-materia', 'personal-pronouns')">Matéria</button>
            <button onclick="abrirLessonContent('personal-pronouns-video', 'personal-pronouns')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('personal-pronouns-tarefa', 'personal-pronouns')">Tarefa</button>
        </div>
    </div>

    <div id="aula-past-perfect-continuous-lesson" class="lesson-home container">
        <button class="back-button" onclick="goToCourseScreen(currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h1>Past Perfect Continuous</h1>
        <div class="lesson-menu">
            <button onclick="abrirLessonContent('past-perfect-continuous-materia', 'past-perfect-continuous')">Matéria</button>
            <button onclick="abrirLessonContent('past-perfect-continuous-video', 'past-perfect-continuous')">Vídeo-explicação</button>
            <button onclick="abrirLessonContent('past-perfect-continuous-tarefa', 'past-perfect-continuous')">Tarefa</button>
        </div>
    </div>

    <div id="easy-presentation-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('easy-presentation', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Easy Presentation</h2>
        <p>
            Apresentações pessoais básicas em inglês envolvem frases como “My name is...”, “I am from...”, “Nice to meet you”, etc.
            O objetivo é saber se apresentar com confiança usando vocabulário simples e correto.
            <br><br>
            <strong>Exemplos:</strong>
            <ul>
                <li>Hello, my name is [Seu Nome].</li>
                <li>I am from [Seu País/Cidade].</li>
                <li>It's nice to meet you.</li>
                <li>What's your name?</li>
                <li>Where are you from?</li>
            </ul>
            <strong>Dica:</strong> Pratique essas frases em voz alta. A repetição ajuda a memorizar e a sentir-se mais confortável.
        </p>
    </div>

    <div id="easy-presentation-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('easy-presentation', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Easy Presentation</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="easy-presentation-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('easy-presentation', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Easy Presentation</h2>
        <form onsubmit="enviarTarefa(event, 'Easy Presentation')">
            <label for="aluno-easy-presentation">Seu nome:</label>
            <input type="text" id="aluno-easy-presentation" placeholder="Digite seu nome" required />

            <label for="q1-easy-presentation">1. Como você diz “Meu nome é João” em inglês?</label>
            <textarea id="q1-easy-presentation" required></textarea>

            <label for="q2-easy-presentation">2. Qual a frase correta para dizer de onde você é?</label>
            <textarea id="q2-easy-presentation" required></textarea>

            <label for="q3-easy-presentation">3. Escreva uma saudação educada em inglês.</label>
            <textarea id="q3-easy-presentation" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="greetings-farewells-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('greetings-farewells', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Greetings and Farewells</h2>
        <p>
            Aprender saudações e despedidas é fundamental para qualquer interação em inglês.
            <br><br>
            <strong>Saudações (Greetings):</strong>
            <ul>
                <li>Hello / Hi (Olá)</li>
                <li>Good morning (Bom dia)</li>
                <li>Good afternoon (Boa tarde)</li>
                <li>Good evening (Boa noite - ao chegar)</li>
                <li>How are you? (Como você está?)</li>
                <li>I'm fine, thanks. And you? (Estou bem, obrigado. E você?)</li>
            </ul>
            <strong>Despedidas (Farewells):</strong>
            <ul>
                <li>Goodbye / Bye (Adeus / Tchau)</li>
                <li>Good night (Boa noite - ao ir embora/dormir)</li>
                <li>See you later (Até mais tarde)</li>
                <li>Have a good day (Tenha um bom dia)</li>
                <li>Take care (Se cuida)</li>
            </ul>
        </p>
    </div>

    <div id="greetings-farewells-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('greetings-farewells', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Greetings and Farewells</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="greetings-farewells-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('greetings-farewells', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Greetings and Farewells</h2>
        <form onsubmit="enviarTarefa(event, 'Greetings and Farewells')">
            <label for="aluno-greetings-farewells">Seu nome:</label>
            <input type="text" id="aluno-greetings-farewells" placeholder="Digite seu nome" required />

            <label for="q1-greetings">1. Qual a diferença entre "Good evening" e "Good night"?</label>
            <textarea id="q1-greetings" required></textarea>

            <label for="q2-greetings">2. Escreva uma breve conversa usando pelo menos uma saudação e uma despedida.</label>
            <textarea id="q2-greetings" required></textarea>

            <label for="q3-greetings">3. Como você diria "Tenha um bom dia" em inglês?</label>
            <textarea id="q3-greetings" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="personal-pronouns-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('personal-pronouns', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Personal Pronouns</h2>
        <p>
            Pronomes pessoais são usados para substituir nomes, evitando repetições e tornando a fala mais fluida.
            <br><br>
            <strong>Subject Pronouns (Sujeito da frase):</strong>
            <ul>
                <li>I (Eu)</li>
                <li>You (Você/Vocês)</li>
                <li>He (Ele)</li>
                <li>She (Ela)</li>
                <li>It (Ele/Ela para coisas/animais/ideias)</li>
                <li>We (Nós)</li>
                <li>They (Eles/Elas)</li>
            </ul>
            <strong>Object Pronouns (Objeto da frase):</strong>
            <ul>
                <li>Me (Me/Mim)</li>
                <li>You (Te/Você/Vocês)</li>
                <li>Him (Lhe/Ele)</li>
                <li>Her (Lhe/Ela)</li>
                <li>It (Lhe/Isso)</li>
                <li>Us (Nos/Nós)</li>
                <li>Them (Lhes/Eles/Elas)</li>
            </ul>
            <strong>Exemplos:</strong>
            <ul>
                <li><strong>Subject:</strong> <em>She</em> is happy. (Ela está feliz.)</li>
                <li><strong>Object:</strong> I saw <em>her</em>. (Eu a vi.)</li>
            </ul>
        </p>
    </div>

    <div id="personal-pronouns-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('personal-pronouns', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Personal Pronouns</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="personal-pronouns-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('personal-pronouns', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Personal Pronouns</h2>
        <form onsubmit="enviarTarefa(event, 'Personal Pronouns')">
            <label for="aluno-personal-pronouns">Seu nome:</label>
            <input type="text" id="aluno-personal-pronouns" placeholder="Digite seu nome" required />

            <label for="q1-pronouns">1. Substitua o nome sublinhado pelo pronome pessoal correto: "<u>Maria</u> is reading a book."</label>
            <textarea id="q1-pronouns" required></textarea>

            <label for="q2-pronouns">2. Complete a frase com o pronome objeto adequado: "Give the book to <u>us</u>."</label>
            <textarea id="q2-pronouns" required></textarea>

            <label for="q3-pronouns">3. Crie uma frase usando "It" como sujeito e outra usando "it" como objeto.</label>
            <textarea id="q3-pronouns" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <div id="past-perfect-continuous-materia" class="tela container">
        <button class="back-button" onclick="goToLessonHome('past-perfect-continuous', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Matéria — Past Perfect Continuous</h2>
        <p>
            O Past Perfect Continuous (Passado Perfeito Contínuo) é usado para descrever uma ação contínua
            que começou no passado e continuou até outro ponto no passado. A ênfase está na duração da ação.
            <br><br>
            <strong>Estrutura:</strong> Sujeito + had been + verbo no gerúndio (-ing)
            <br><br>
            <strong>Exemplos:</strong>
            <ul>
                <li>She had been studying for three hours before she took a break.</li>
                <li>They had been waiting for a long time when the bus finally arrived.</li>
                <li>I had been working on this project all morning until the power went out.</li>
            </ul>
            É comum usá-lo com "for" (por um período) ou "since" (desde um ponto no tempo).
        </p>
    </div>

    <div id="past-perfect-continuous-video" class="tela container">
        <button class="back-button" onclick="goToLessonHome('past-perfect-continuous', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Vídeo-explicação — Past Perfect Continuous</h2>
        <div class="video-player">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>

    <div id="past-perfect-continuous-tarefa" class="tela container">
        <button class="back-button" onclick="goToLessonHome('past-perfect-continuous', currentCourseLevel)">Voltar</button>
        <div class="logo round"></div>
        <h2>Tarefa — Past Perfect Continuous</h2>
        <form onsubmit="enviarTarefa(event, 'Past Perfect Continuous')">
            <label for="aluno-past-perfect-continuous">Seu nome:</label>
            <input type="text" id="aluno-past-perfect-continuous" placeholder="Digite seu nome" required />

            <label for="q1-past-perfect">1. Como você formaria uma frase no Past Perfect Continuous com "estudar" e "por duas horas"?</label>
            <textarea id="q1-past-perfect" required></textarea>

            <label for="q2-past-perfect">2. Quando usamos o Past Perfect Continuous em relação ao Past Perfect Simple?</label>
            <textarea id="q2-past-perfect" required></textarea>

            <label for="q3-past-perfect">3. Crie uma frase descrevendo uma ação contínua no passado antes de outro evento passado.</label>
            <textarea id="q3-past-perfect" required></textarea>

            <button type="submit">Enviar Respostas</button>
        </form>
        <div id="mensagem-envio"></div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script>
        // SEU OBJETO firebaseConfig REAL COM SUAS CREDENCIAIS
        // OBTER ISSO DO SEU CONSOLE DO FIREBASE -> PROJECT SETTINGS -> YOUR APPS
        const firebaseConfig = {
          apiKey: "AIzaSyBvV7tnWPQN0Eyn62Bd70JOzvWCOdbMLvg", // Substitua pelo seu apiKey REAL
          authDomain: "tarefasmarcosprime.firebaseapp.com", // Substitua pelo seu authDomain REAL
          projectId: "tarefasmarcosprime", // Substitua pelo seu projectId REAL
          storageBucket: "tarefasmarcosprime.firebasestorage.app", // Substitua pelo seu storageBucket REAL
          messagingSenderId: "991846054351", // Substitua pelo seu messagingSenderId REAL
          appId: "1:991846054351:web:89b807413bce06a0cbfaba" // Substitua pelo seu appId REAL
        };

        // Inicialize o Firebase
        try {
            firebase.initializeApp(firebaseConfig);
            console.log("Firebase inicializado com sucesso!");
        } catch (error) {
            console.error("Erro ao inicializar Firebase: ", error);
            alert("Erro ao conectar com o Firebase. Verifique suas credenciais.");
        }

        // Obtenha uma referência para o serviço Firestore
        const db = firebase.firestore();
        console.log("Firestore inicializado.");

        let currentCourseLevel = ''; // Variável para rastrear o nível do curso atual

        // Função para esconder todos os contêineres principais
        function hideAllContainers() {
            document.querySelectorAll('.container').forEach(container => {
                container.classList.remove('active');
                container.style.display = 'none'; // Garante que estejam escondidos
            });
            document.querySelectorAll('.course-container').forEach(container => {
                container.style.display = 'none'; // Garante que estejam escondidos
            });
        }

        // --- Lógica da Tela de Login ---
        function verificarSenha() {
            const senha = document.getElementById('senha').value;
            const senhaCorreta = 'marcos123';
            const mensagem = document.getElementById('mensagem');

            if (senha === senhaCorreta) {
                mensagem.textContent = '';
                hideAllContainers();
                document.getElementById('welcome-screen').classList.add('active');
                console.log("Senha correta. Exibindo tela de boas-vindas.");
            } else {
                mensagem.textContent = 'Senha incorreta. Tente novamente.';
                console.log("Senha incorreta.");
            }
        }

        // --- Lógica da Tela de Boas-Vindas ---
        function entrarBoasVindas() {
            hideAllContainers();
            document.getElementById('level-screen').classList.add('active');
            console.log("Entrando na tela de seleção de nível.");
        }

        function recusarBoasVindas() {
            hideAllContainers();
            document.getElementById('decline-screen').classList.add('active');
            console.log("Entrando na tela de recusa.");
        }

        // --- Lógica de Seleção de Nível ---
        function abrirNivelCurso(nivel) {
            hideAllContainers();
            currentCourseLevel = nivel; // Armazena o nível do curso selecionado
            document.getElementById(`${nivel}-course`).style.display = 'flex';
            document.getElementById(`${nivel}-course`).classList.add('active'); // Adiciona active para CSS
            console.log(`Abrindo curso: ${nivel}`);
        }

        // --- Navegação de Volta ---
        function goToLevelScreen() {
            hideAllContainers();
            document.getElementById('level-screen').classList.add('active');
            console.log("Voltando para a tela de seleção de nível.");
        }

        function goToCourseScreen(nivel) {
            hideAllContainers();
            // Verifica se o nível foi passado ou usa o nível atual
            const targetNivel = nivel || currentCourseLevel;
            if (targetNivel) {
                document.getElementById(`${targetNivel}-course`).style.display = 'flex';
                document.getElementById(`${targetNivel}-course`).classList.add('active');
                console.log(`Voltando para a tela do curso: ${targetNivel}`);
            } else {
                console.warn("Nível do curso não definido ao tentar voltar para a tela do curso.");
                goToLevelScreen(); // Fallback para tela de nível se o contexto for perdido
            }
        }

        function goToLessonHome(lessonId, nivel) {
            hideAllContainers();
            currentCourseLevel = nivel; // Garante que o nível está atualizado
            document.getElementById(`aula-${lessonId}-lesson`).classList.add('active');
            console.log(`Voltando para a tela inicial da aula: ${lessonId}`);
        }


        // --- Lógica de Seleção de Aula (a partir de um contêiner de curso) ---
        function abrirLesson(lessonId, nivel) {
            hideAllContainers();
            currentCourseLevel = nivel; // Armazena o nível do curso atual
            // Usa o ID prefixado com "aula-" para as telas "lesson-home"
            document.getElementById(`aula-${lessonId}-lesson`).classList.add('active');
            console.log(`Abrindo aula: ${lessonId} no nível ${nivel}`);
        }

        // --- Navegação do Conteúdo da Aula (dentro de uma aula) ---
        function abrirLessonContent(telaId, lessonId) {
            hideAllContainers(); // Esconde tudo
            // Ativa a tela de conteúdo solicitada
            document.getElementById(telaId).classList.add('active');
            console.log(`Abrindo conteúdo da aula: ${telaId}`);
        }

        // --- Lógica de Envio de Tarefa ---
        async function enviarTarefa(event, nomeAula) { // nomeAula é passado aqui
            event.preventDefault(); // Impede o envio padrão do formulário

            const form = event.target; // O formulário que disparou o evento
            // O ID do input do aluno agora depende do nome da aula, para ser único por tarefa
            const alunoInputId = `aluno-${nomeAula.toLowerCase().replace(/\s/g, '-')}`;
            const nomeAluno = document.getElementById(alunoInputId).value;

            // Crie um objeto para armazenar as respostas
            const respostas = {};
            // Itera sobre todos os textareas do formulário atual
            form.querySelectorAll('textarea').forEach(textarea => {
                // Pegue o ID de cada textarea (ex: q1-easy-presentation) e armazene o valor
                respostas[textarea.id] = textarea.value;
            });

            // Crie o objeto completo da tarefa a ser salvo
            const dadosTarefa = {
                aluno: nomeAluno,
                nivel: currentCourseLevel, // Adiciona o nível do curso
                aula: nomeAula,
                respostas: respostas,
                dataEnvio: firebase.firestore.FieldValue.serverTimestamp() // Salva a data/hora do servidor
            };

            console.log("Tentando enviar tarefa:", dadosTarefa);

            // Salvar os dados no Firestore na coleção 'tarefas'
            try {
                const docRef = await db.collection('tarefas').add(dadosTarefa);
                console.log("Documento escrito com ID: ", docRef.id);
                document.getElementById('mensagem-envio').innerHTML =
                    `Olá, ${nomeAluno}! Suas respostas para a aula "${nomeAula}" foram enviadas com sucesso e salvas!`;

                // Limpa o formulário após o envio
                form.querySelectorAll('textarea').forEach(textarea => textarea.value = '');
                document.getElementById(alunoInputId).value = ''; // Limpa o campo do nome do aluno
            } catch (error) {
                console.error("Erro ao adicionar documento: ", error);
                document.getElementById('mensagem-envio').innerHTML =
                    `Olá, ${nomeAluno}! Houve um erro ao enviar suas respostas para a aula "${nomeAula}". Por favor, tente novamente. Detalhes: ${error.message}`;
            }
        }

        // Inicializa o estado de exibição na carga da página
        document.addEventListener('DOMContentLoaded', () => {
            hideAllContainers();
            document.getElementById('login-container').classList.add('active'); // Apenas a tela de login ativa inicialmente
            console.log("Página carregada. Tela de login ativa.");
        });
    </script>
</body>
</html>